## Github Actions 基本概念

------

### github actions とは

　github actions とはGitHubが提供する汎用的なワークフローエンジンのこと。
github の各システムと連携し、以下の様なことが可能になる。

- プルリクが作成され次第、ビルドとテストを実行すること
- リリースタグが作成されたら、コンテナイメージをデプロイする
- issue が作成されたら、ランダムにメンバーをアサインする

### ワークフローファイルの作り方

　ワークフローファイルでは「いつ」「どこで」「どのような」処理を行うのかを定義することができる。
ただし、ファイル作成においては以下の制約が存在する

- ファイル拡張子は「.yml」or 「.yaml」
- yamlファイルは「.github/workflow」ディレクトリ直下へ配置しなくてはならない
- 配置先ディレクトリと拡張子以外は、任意のファイル名が使用可能

#### ワークフロー構文例

```
neme: Hello                      # ワークフロー名
on: push 												 # イベント（どのタイミングでこのワークフローを行うのか）
jobs:　　　　　　　　　　　　　　　　 #  ジョブの定義
	hello:　　　　　　　　　　　　　　　# ジョブID
	runs-on: ubuntu-latest         # ランナー（実行環境：今回はUbuntuで実行）
	steps:　　　　　　　　　　　　　　　# ステップの定義
		- run: echo "hello, world"　 # シェルコマンドの実行
		- uses: actions/chckout@v4　 # アクションの呼び出し
```

#### 用語解説

- ワークフロー名
  　ワークフローの名前（省略可能だが、実行ログがわからなくなるので、命名したほうがよい）

- イベント
  　ワークフローの実行起点のこと。以下の様に記述すれば、複数のイベントを指定することができる。

  ```
  on: [push, pull_request]
  ```

- ジョブ
  　ジョブはワークフローの実行単位を示すものである。
  jobsキー配下に記述し、複数定義することができる。それぞれのジョブを区別することができる様にジョブIDを指定する。

  ```
  jobs:
  	hello:
  ```

  例ではhelloがジョブIDとなる。ジョブIDは自由に命名することができる。

- ランナー
  　ジョブの実行環境のこと、例の様にruns-onキーへ記述する。例ではubuntuを指定しているが、windowsやmacOSも選択することができる。

  ```
  runs-on: ubuntu-latest
  ```

- ステップ
  　ステップはワークフローにおける処理の最小単位のことで、stepsキーへ次の様に記述する。
  ステップは複数定義することができ、処理は上から順に逐次実行される。

  ```
  steps:
  	-run: echo "hello, world"
  	-uses: actions/checkout@v4
  ```

  

