## フラッシュメッセージ

------

>フラッシュメッセージに関しても、基本的な考え方はrailsと大差ない
>成功時：画面遷移と同時にセッションでデータを"success"として送り、ビューで受け取り、表示する。
>失敗時：Laravelが自動で配列にエラー内容を入れ込んでくれているので、それを利用
>　　　　ビュー画面で一つ一つ受け取って表示する。

#### 具体例

#### 成功時

コントローラー

```php
if($board->save()) {
            return redirect()->route('boards.index')->with('success', '掲示板を作成しました。');
        }
```

ビュー

```
@if(session('success'))
        <div class="p-4 mb-4 text-sm text-green-800 rounded-lg bg-green-50" role="alert">
            {{ session('success')}}
        </div>
 @endif
```

>表示部分は画面のレイアウト直下ぐらいがよい

#### 失敗時

ビュー

```
@if ($errors->any())
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                    @foreach ($errors->all() as $error)
                        <li>{{ $error }}</li>
                    @endforeach
                </div>
@endif
```

>表示部分はフォーム入力部の直上ぐらいがよい