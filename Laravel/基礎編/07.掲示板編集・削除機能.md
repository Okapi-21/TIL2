## 掲示板編集・削除機能実装

#### 実装手順分解

- 編集・削除
  - 投稿機能自体はすでに実装済みであるので新しくDB関係を触る必要はない
  - ので、マイグレーションファイルやファクトリーファイルを編集したり、追記したりする必要はない
  - ルートもモデル生成時にresource設定しているので問題なし
  - コントローラの新しいアクションを追加したり、viewファイルに新しい動線を用意したりする必要がある
  - フラッシュメッセージを表示するために、各アクションの末尾に記述が必要になる
    

### 掲示板所有者だけに編集・削除ボタンを表示するコード解説

---

#### コード例（書き換え＆解説）

```blade
@if (Auth::id() === $board->user_id)
    <a href="{{ route('boards.edit', $board->id)}}">
        編集アイコン
    </a>
    <form action="{{ route('boards.destroy', $board->id) }}" method="POST">
      @csrf
      @method('DELETE')
      <button type="submit" onclick="if(!confirm('本当に削除しますか？')){return false};">
        削除ボタン
      </button>
    </form>
@endif
```

---

#### 1. ログインユーザーの所有権チェック

- `Auth::id()`で現在ログインしているユーザーのIDを取得します。
- `$board->user_id`で掲示板の所有者IDを取得します。
- **この2つが一致する場合だけ**、編集・削除の操作を許可します。
- これにより、自分が作った掲示板だけ編集・削除できるようになります。

---

#### 2. 編集ボタン

- `<a href="{{ route('boards.edit', $board->id)}}">`  
  編集ページへのリンクを生成します（アイコン等を表示可能）。

---

#### 3. 削除ボタン

- `<form action="{{ route('boards.destroy', $board->id) }}" method="POST">`  
  削除リクエストを送るフォームです。
- `@csrf`でクロスサイトリクエストフォージェリ対策。
- `@method('DELETE')`でHTTPメソッドをDELETEに変更（RESTfulな設計に対応）。
- `<button type="submit" onclick="if(!confirm('本当に削除しますか？')){return false};">`  
  削除前に確認ダイアログを表示し、キャンセルすると処理を中止できます。

---

#### 初学者向け補足

- **所有権チェック**は「自分のものだけ操作できる」安全設計です。
- **@csrf**はセキュリティのため必須です。
- **@method('DELETE')**は、フォームのPOSTリクエストをDELETEリクエストに変換するBladeの便利機能です。
- 削除確認ダイアログは「誤操作防止」の配慮です。

---

#### まとめ

- 所有者のみが編集・削除できる仕組みで、セキュリティ・ユーザー体験の両方を向上。
- LaravelのBlade構文でシンプルに実装できる。

---

　

- 掲示板削除の際のマイグレーションファイル編集









- コントローラーへの追記











- 編集画面の生成・編集









### Remixiconの導入・使い方解説

---

#### 1. Remixiconのインストール

Remixiconは、**ウェブデザインでよく使われるオープンソースのアイコンライブラリ**です。  
様々なスタイルのアイコンが豊富で、シンプルなデザインが特徴です。

**コマンド例（ターミナルで実行）：**
```bash
docker compose exec app npm install remixicon@4.6.0
```
- これで、Remixiconのパッケージが`node_modules`内にインストールされます。

---

#### 2. CSSファイルへのインポート

`src/resources/css/app.css`を編集し、RemixiconのCSSファイルをインポートします。

```css
@import 'remixicon/fonts/remixicon.css';

@tailwind base;
@tailwind components;
/* ...省略... */
```

- **@import**は、他のCSSファイルを現在のファイルに読み込む命令です。
- `remixicon/fonts/remixicon.css`にはアイコン表示用のスタイルが定義されています。
- **Vite**は`node_modules`内のCSSも読み込めるため、この記述だけでOKです。

---

#### 3. アイコンの使い方

- HTML内で、公式サイトからアイコンを選んで**クラス名**を記述するだけで表示できます。

例：
```html
<i class="ri-edit-line"></i> <!-- 編集アイコン（Remixicon） -->
```

- クラス名はRemixicon公式サイトで検索・確認できます。

---

#### 初学者向け補足

- **Remixiconを使うメリット**  
  デザインの統一感が出る／SVG形式で高画質／コード1行で簡単表示。
- **@importの順番**はTailwindなど他のCSSより先頭に書くと確実です。
- アイコン表示されない場合はインストールやパスに誤りがないか確認しましょう。

---

#### まとめ

- Remixiconはnpmで簡単に導入でき、CSSインポートとクラス名指定だけでアイコンが使えます。
- Tailwindなど他のCSSとの併用も可能です。

---
